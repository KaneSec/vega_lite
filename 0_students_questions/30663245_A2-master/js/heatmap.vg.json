{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
        "url": "https://raw.githubusercontent.com/zijinchen-0104/30663245_A2/master/data/A2.csv"
    },
    "title": {"text":"Bedroom size and Time VS Price"},
    "config": {
        "view": {
            "strokeWidth": 0,
            "step": 13
        },
        "axis": {
            "domain": false
        }
    },
    "vconcat": [{
        "width": 400,
        "height":300,
        "transform": [
          {
            "calculate": "timeParse(datum['date_sold'], '%d/%m/%Y')",
            "as" : "date_new"
          }],
        "mark": "rect",
        "encoding": {
        "x": {
            "field": "date_new",
            "timeUnit": "yearmonth",
            "type": "ordinal",
            "title": "Time"
  
        },
        "y": {
            "field": "bedrooms",
            "type": "ordinal",
            "title": "Bedroom size"
        },
        "color": {
            "field": "price",
            "aggregate": "average",
            "type": "quantitative",
            "legend": {
                "title": "Average price","format": ".1s"
            }
        },
        "tooltip": [
                      { "aggregate": "average", "field": "price", "type": "quantitative", "title": "Average price", "format": ".2f" },
                      { "timeUnit":"yearmonth","field": "date_new", "type": "ordinal", "title": "Year and Month" },
                      { "field": "bedrooms", "type": "ordinal", "title": "Bedroom Size" }
                  ]
    }
      }]
  }
  